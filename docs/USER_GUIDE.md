# SNSマーケティング自動化プラットフォーム ユーザーガイド

## 目次
1. [システム概要](#1-システム概要)
2. [クイックスタート](#2-クイックスタート)
3. [アカウント管理](#3-アカウント管理)
4. [プロジェクト管理](#4-プロジェクト管理)
5. [エージェント設定](#5-エージェント設定)
6. [A/Bテスト](#6-abテスト)
7. [バズ分析](#7-バズ分析)
8. [プロファイル最適化](#8-プロファイル最適化)
9. [デバイス管理](#9-デバイス管理)
10. [凍結検知・自動対応](#10-凍結検知自動対応)
11. [FAQ・トラブルシューティング](#11-faqトラブルシューティング)

---

## 1. システム概要

### このシステムでできること
- **自動投稿**: AIが最適なコンテンツを生成し、自動で投稿
- **A/Bテスト**: 複数のコンテンツパターンを比較し、最も効果的なものを特定
- **バズ分析**: 成功した投稿を分析し、パターンを学習
- **凍結対応**: アカウント凍結を自動検知し、デバイス/プロキシを切り替え
- **プロファイル最適化**: Bio等のプロファイルをA/Bテストで最適化

### 技術スタック
- フロントエンド: React + TypeScript
- バックエンド: Node.js + tRPC
- データベース: MySQL
- AI: OpenAI GPT-4
- デバイス制御: DuoPlus API（クラウド携帯）

---

## 2. クイックスタート

### ステップ1: アカウントを追加
1. サイドメニューから「アカウント」をクリック
2. 「新規アカウント」ボタンをクリック
3. プラットフォーム（X）を選択
4. ユーザー名とパスワードを入力
5. デバイスを割り当て（任意）
6. 「保存」をクリック

### ステップ2: プロジェクトを作成
1. 「プロジェクト」から「新規プロジェクト」をクリック
2. プロジェクト名を入力
3. 使用するアカウントを選択
4. 「作成」をクリック

### ステップ3: エージェントを設定
1. プロジェクト詳細画面から「エージェント作成」をクリック
2. エージェント名と投稿テーマを設定
3. 投稿頻度を設定
4. 「保存」をクリック

### ステップ4: 自動投稿を開始
1. エージェント詳細画面で「自動実行」をオンに
2. システムが自動でコンテンツを生成・投稿

---

## 3. アカウント管理

### アカウントの追加
1. 「アカウント」画面を開く
2. 「新規アカウント」ボタンをクリック
3. 必要情報を入力:
   - プラットフォーム: X (Twitter)
   - ユーザー名: @以降のID
   - メール/電話番号: ログインに必要な情報
   - パスワード: SNSアカウントのパスワード

### アカウントステータス
| ステータス | 説明 |
|-----------|------|
| active | 正常に動作中 |
| suspended | 一時停止中（凍結検知） |
| frozen | 凍結状態 |
| inactive | 非アクティブ |

### デバイス割り当て
- 各アカウントには1つのDuoPlusデバイスを割り当て可能
- デバイスは「デバイス管理」画面から管理

---

## 4. プロジェクト管理

### プロジェクトとは
複数のアカウントとエージェントをまとめて管理する単位です。
例: 「美容系アカウント運用」「テック系情報発信」など

### プロジェクト設定
- **プロジェクト名**: 識別用の名前
- **説明**: プロジェクトの目的など
- **使用アカウント**: このプロジェクトで使うアカウント
- **モデルアカウント**: 参考にするインフルエンサー

### モデルアカウント連携
参考にしたいインフルエンサーを登録すると、そのアカウントのバズ投稿パターンを自動学習できます。

---

## 5. エージェント設定

### エージェントとは
自動投稿を行うAIの設定です。投稿テーマ、トーン、頻度などを指定します。

### 基本設定
| 項目 | 説明 |
|------|------|
| エージェント名 | 識別用の名前 |
| 投稿テーマ | 何について投稿するか |
| トーン | カジュアル/フォーマル/ユーモラス など |
| 投稿頻度 | 1日あたりの投稿数 |

### 投稿スタイル
```
例: カジュアルトーン
- 絵文字を適度に使用 ✨
- 親しみやすい口調
- 短めの文章

例: プロフェッショナルトーン
- 専門用語を活用
- データや根拠を提示
- 構造化された文章
```

### 自動学習
エージェントは投稿のパフォーマンスを分析し、成功パターンを自動学習します:
- エンゲージメント率70%以上: 成功パターンとして保存
- エンゲージメント率30%以下: 避けるべきパターンとして記録

---

## 6. A/Bテスト

### A/Bテストとは
複数の投稿パターンを比較し、最も効果的なものを統計的に特定する機能です。

### テストの作成
1. 「A/Bテスト」画面から「新規テスト」をクリック
2. テスト名と目的を入力
3. バリエーションを追加（最大4つ）
4. 各バリエーションの内容を設定
5. テストを開始

### バリエーションタイプ
- **content**: 投稿内容のテスト
- **hashtag**: ハッシュタグ戦略のテスト
- **timing**: 投稿時間のテスト
- **media**: 画像/動画の有無テスト

### 統計分析機能
テスト結果には以下の統計情報が表示されます:

| 指標 | 説明 |
|------|------|
| p値 | 有意差の確率（0.05未満で統計的に有意） |
| 効果量 (Cohen's d) | 差の大きさ（0.2:小、0.5:中、0.8:大） |
| 95%信頼区間 | 真の効果が含まれる範囲 |
| サンプルサイズ | 現在のサンプル数と推奨サンプル数 |

### 統計的有意性の解釈
- **p値 < 0.05**: 統計的に有意（差がある可能性が高い）
- **p値 >= 0.05**: 有意差なし（さらにデータが必要）
- **サンプル不足警告**: 十分なデータがない場合は警告を表示

---

## 7. バズ分析

### バズ分析とは
成功した投稿（バズ投稿）を分析し、成功要因を抽出する機能です。

### 分析フロー
```
1. バズ投稿を登録
   ↓
2. AIが成功要因を分析
   - フック（冒頭の注目度）
   - CTA（行動喚起）
   - 感情トリガー
   - 構成パターン
   ↓
3. パターンを抽出・保存
   ↓
4. 投稿生成に自動適用
```

### 自動バズ検出
システムは1時間ごとに投稿をスキャンし、以下の条件でバズを検出:
- バイラリティスコア 70以上
- エンゲージメント率 5%以上

検出された投稿は自動的に分析対象に登録されます。

### OCR機能
スクリーンショットからテキストを抽出する機能:
1. 「画像分析」タブを選択
2. スクリーンショットをアップロード
3. AIがテキストとエンゲージメント数を抽出
4. 分析結果を確認・保存

---

## 8. プロファイル最適化

### プロファイル最適化とは
アカウントのBio、表示名、プロフィール画像などを最適化する機能です。

### Bio A/Bテスト
1. 「プロファイル最適化」画面を開く
2. 「Bio A/Bテスト作成」をクリック
3. テストするBioのバリエーションを入力
4. テスト期間を設定
5. テストを開始

各バリエーションは交互に適用され、フォロワー増加率などの指標で比較されます。

### 最適化提案
AIが以下の項目について改善提案を提供:
- **Bio改善**: より魅力的なプロフィール文
- **表示名**: クリック率を高める名前
- **プロフィール画像**: 印象的な画像の提案

---

## 9. デバイス管理

### デバイスプールとは
DuoPlusクラウド携帯デバイスの管理機能です。

### デバイスステータス
| ステータス | 説明 |
|-----------|------|
| available | 利用可能（空き） |
| busy | 使用中（アカウント割り当て済み） |
| offline | オフライン |

### デバイスの割り当て
1. 「デバイス管理」画面を開く
2. 空きデバイスの「割り当て」ボタンをクリック
3. 割り当てるアカウントを選択
4. 「割り当て」を確定

### 自動割り当て
「自動割り当て」ボタンをクリックすると、デバイス未割り当てのアカウントに自動でデバイスを割り当てます。

### デバイスローテーション
凍結検知時、システムは自動的に:
1. 現在のデバイスを解放
2. 新しいデバイスを割り当て
3. プロキシIPを変更

---

## 10. 凍結検知・自動対応

### 凍結検知機能
システムは以下の方法で凍結を検知:
- ログイン失敗の検出
- API応答エラーの分析
- 投稿失敗パターンの検出

### 自動対応フロー
```
凍結検知
  ↓
1. IP変更（プロキシ切替）
  ↓ 失敗時
2. デバイス切替
  ↓ 失敗時
3. アカウント一時停止 + 自動再開スケジュール
```

### 自動再開スケジューラ
一時停止されたアカウントは自動的に再開がスケジュールされます:
- **再開待機時間**: 24〜48時間（ランダム）
- **再開条件**: 新しいデバイス/プロキシの準備完了

### 再開キューの確認
「凍結管理」画面から再開待ちのアカウント一覧を確認できます:
- アカウント名
- 凍結検知日時
- 予定再開日時
- 再開前のデバイス/プロキシ状態

---

## 11. FAQ・トラブルシューティング

### Q: 投稿が失敗する
**A:** 以下を確認してください:
1. アカウントのステータスが「active」か
2. デバイスが正常に動作しているか
3. DuoPlus APIの接続状態

### Q: エージェントが投稿を生成しない
**A:** 以下を確認してください:
1. エージェントの「自動実行」がオンか
2. 投稿頻度設定が正しいか
3. 次回投稿予定時刻を確認

### Q: A/Bテストで有意差が出ない
**A:** 以下の可能性があります:
1. サンプルサイズ不足: より多くのデータを収集
2. 実際に差がない: バリエーションの差を大きくする
3. ノイズが大きい: テスト期間を延長

### Q: デバイスがオフラインになる
**A:** 以下を試してください:
1. DuoPlus管理画面でデバイス状態を確認
2. デバイスを再起動
3. 別のデバイスを割り当て

### Q: 凍結が頻繁に発生する
**A:** 以下を検討してください:
1. 投稿頻度を下げる
2. インタラクション（いいね/RT）の頻度を調整
3. 投稿内容を見直し（スパム判定を避ける）

### Q: バズ分析が正しく動作しない
**A:** 以下を確認してください:
1. 投稿にエンゲージメントデータがあるか
2. OpenAI APIキーが設定されているか
3. 分析対象の投稿が基準（スコア70以上）を満たしているか

---

## サポート

### ログの確認
問題が発生した場合、以下のログを確認:
- サーバーログ: `docker compose logs -f app`
- Pythonワーカーログ: `docker compose logs -f python-worker`

### お問い合わせ
GitHub Issues で問題を報告してください。

---

*最終更新: 2026年1月*
